<div class="page-title">
  <h4>Клиенты</h4>
  <button
    class="waves-effect waves-light btn grey darken-1"
    routerLink="/client/new"
  >
    Добавить клиента
  </button>
</div>

<div class="filter js-filter-block">
  <div class="fr">
    <div class="col order">
      <div class="input-field inline order-position-input">
        <input type="text" id="names">
        <label for="names">ФИО</label>
      </div>
    </div>
  </div>

  <button class="btn waves-effect wavers-light btn-small" routerLink="/client/filter">Применить фильтр</button>
</div>

<div
  class="row"
  *ngIf="clients$ | async as clients; else loader">
  <div class="col s12" style="width: 50%">
    <div class="collection" *ngIf="clients.length !== 0; else empty">
      <table class="centered">
        <thead>
        <tr>
          <th>Номер</th>
          <th>ФИО</th>
          <th>Моб. тел</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let client of clients; let i = index" [routerLink]="['/client', client._id]">
          <td>{{i + 1}}</td>
          <td>{{client.lastName}} {{client.firstName}} {{client.middleName}}</td>
          <td>{{client.numberMobile}}</td>
        </tr>
        </tbody>
      </table>
    </div>
    <ng-template #empty>
      <div class="center">
        У вас нет ни одного клиента
      </div>
    </ng-template>
  </div>
</div>

<ng-template #loader>
  <app-loader></app-loader>
</ng-template>

